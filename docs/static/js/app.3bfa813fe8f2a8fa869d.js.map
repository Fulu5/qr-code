{"version":3,"sources":["webpack:///./src/App.vue?5975","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?2fac","webpack:///./src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","HelloWorld","components","QrcodeStream","VueQrcodeReader_umd_min","QrcodeDropZone","QrcodeCapture","data","result","error","camera","dragover","isOutsideUrl","methods","onInit","promise","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","content","wrap","_context","prev","next","sent","abrupt","processResult","t0","stop","logErrors","catch","console","onDragOver","isDraggingOver","urlregex","window","alert","test","lodash_default","includes","path","drop","split","join","$router","push","open","components_HelloWorld","_vm","staticClass","_v","_s","staticStyle","border","href","target","rel","_e","on","init","decode","detect","src_components_HelloWorld","HelloWorld_normalizeComponent","Vue","use","Router","router","routes","component","config","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.3bfa813fe8f2a8fa869d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e232033\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e232033\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e232033\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"qrcode-container q-ma-md\">\n    <!-- 扫描结果 -->\n    <p>\n      <b class=\"error\">{{ error }}</b>\n    </p>\n    <p>\n      请选择本地图片进行扫描\n    </p>\n    <p class=\"decode-result\">\n      扫描结果: <b>{{ result }}</b>\n    </p>\n    <div style=\"border:1px solid black;\">\n      <a\n        v-if=\"isOutsideUrl\"\n        :href=\"result\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      ></a>\n    </div>\n\n    <!-- 拖拽图片 -->\n    <!-- <qrcode-drop-zone\n      @detect=\"onInit\"\n      @dragover=\"onDragOver\"\n      @init=\"logErrors\"\n    >\n      <div\n        class=\"drop-area\"\n        :class=\"{ 'dragover': dragover }\"\n      >\n        请将二维码图片拖入此区域\n      </div>\n    </qrcode-drop-zone> -->\n    <!-- 摄像头扫描 -->\n    <qrcode-stream\n      v-if=\"error === null\"\n      class=\"qrcode-stream\"\n      :camera=\"camera\"\n      @init=\"onInit\"\n      @decode=\"processResult\"\n    >\n      <div class=\"line\"></div>\n      <div class=\"angle\"></div>\n    </qrcode-stream>\n    <!-- 上传图片扫描 -->\n    <div class=\"q-my-md\">\n      <qrcode-capture @detect=\"onInit\" />\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport _ from 'lodash'\nimport { QrcodeStream, QrcodeDropZone, QrcodeCapture } from 'vue-qrcode-reader'\n\nexport default {\n  name: 'HelloWorld',\n  components: {\n    QrcodeStream,\n    QrcodeDropZone,\n    QrcodeCapture\n  },\n\n  data () {\n    return {\n      result: '',\n      error: null,\n      // 摄像头\n      camera: 'rear',\n      // 拖拽\n      dragover: false,\n      isOutsideUrl: false\n    }\n  },\n\n  methods: {\n    async onInit (promise) {\n      try {\n        const { content } = await promise\n        if (content === null) {\n          this.error = 'ERROR: 未检测到二维码'\n          return\n        }\n        this.processResult(content)\n        this.error = null\n      } catch (error) {\n        // 处理 error\n        if (error.name === 'NotAllowedError') {\n          this.error = 'ERROR: 需要授予相机访问权限'\n        } else if (error.name === 'NotFoundError') {\n          this.error = 'ERROR: 未检测到摄像头'\n        } else if (error.name === 'NotSupportedError' || error.name === 'InsecureContextError') {\n          this.error = 'ERROR: 需要安全上下文(HTTPS，localhost)'\n        } else if (error.name === 'NotReadableError') {\n          this.error = 'ERROR: 相机被占用'\n        } else if (error.name === 'OverconstrainedError') {\n          this.error = 'ERROR: 设备无法使用'\n        } else if (error.name === 'StreamApiNotSupportedError') {\n          this.error = 'ERROR: 当前浏览器不支持此功能'\n        } else if (error.name === 'DropImageFetchError') {\n          this.error = 'ERROR: 无法解析跨域图片'\n        } else if (error.name === 'DropImageDecodeError') {\n          this.error = 'ERROR: 仅支持图片格式文件'\n        } else {\n          this.error = error\n        }\n      }\n    },\n    logErrors (promise) {\n      promise.catch(console.error)\n    },\n    onDragOver (isDraggingOver) {\n      this.dragover = isDraggingOver\n    },\n    processResult (result) {\n      // eslint-disable-next-line no-useless-escape\n      const urlregex = /(https?|ftp|file):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/\n      // 是否为网址\n      window.alert('is url : ' + urlregex.test(result))\n      if (urlregex.test(result)) {\n        // 内部网址\n        window.alert('is inner url : ' + result)\n        if (_.includes(result, '//teamwork.jingdiao.com')) {\n          let path = _.drop(result.split('/'), 3).join('/')\n          this.$router.push({\n            path: path\n          })\n        } else {\n          this.isOutsideUrl = true\n          // 外部网址\n          window.open(result, '_blank')\n        }\n      } else {\n        // TODO 请求查询result(对应数据库物料编码)\n        this.error = 'ERROR: 未找到相关内容'\n      }\n      // TODO 临时展示\n      this.result = result\n    }\n  }\n}\n</script>\n\n<style scoped>\n.error {\n  color: red;\n  font-weight: bold;\n}\n\n.qrcode-container .qrcode-stream {\n  width: 300px;\n  height: 300px;\n  margin: 0 auto;\n  overflow: hidden;\n  border: 0.1rem solid rgba(0, 255, 51, 0.2);\n}\n\n.qrcode-container .line {\n  height: calc(100% - 2px);\n  width: 100%;\n  background: linear-gradient(180deg, rgba(0, 255, 51, 0) 43%, #00ff33 211%);\n  border-bottom: 3px solid #00ff33;\n  transform: translateY(-100%);\n  animation: radar-beam 2s infinite;\n  animation-timing-function: cubic-bezier(0.53, 0, 0.43, 0.99);\n  animation-delay: 1.4s;\n}\n\n@keyframes scanLine {\n  from {\n    top: 2px;\n  }\n  to {\n    top: 144px;\n  }\n}\n\n.qrcode-container .qrcode-stream:after,\n.qrcode-container .qrcode-stream:before,\n.qrcode-container .angle:after,\n.qrcode-container .angle:before {\n  content: \"\";\n  display: block;\n  position: absolute;\n  width: 48px;\n  height: 48px;\n\n  border: 3px solid transparent;\n}\n\n.qrcode-container .qrcode-stream:after,\n.qrcode-container .qrcode-stream:before {\n  top: 0;\n  border-top-color: #00ff33;\n}\n\n.qrcode-container .angle:after,\n.qrcode-container .angle:before {\n  bottom: 0;\n  border-bottom-color: #00ff33;\n}\n\n.qrcode-container .qrcode-stream:before,\n.qrcode-container .angle:before {\n  left: 0;\n  border-left-color: #00ff33;\n}\n\n.qrcode-container .qrcode-stream:after,\n.qrcode-container .angle:after {\n  right: 0;\n  border-right-color: #00ff33;\n}\n\n@keyframes radar-beam {\n  0% {\n    transform: translateY(-100%);\n  }\n\n  100% {\n    transform: translateY(0);\n  }\n}\n/* 拖拽 */\n.drop-area {\n  height: 300px;\n  color: #fff;\n  text-align: center;\n  font-weight: bold;\n  padding: 10px;\n\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.dragover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.drop-error {\n  color: red;\n  font-weight: bold;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"qrcode-container q-ma-md\"},[_c('p',[_c('b',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error))])]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n    请选择本地图片进行扫描\\n  \")]),_vm._v(\" \"),_c('p',{staticClass:\"decode-result\"},[_vm._v(\"\\n    扫描结果: \"),_c('b',[_vm._v(_vm._s(_vm.result))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"border\":\"1px solid black\"}},[(_vm.isOutsideUrl)?_c('a',{attrs:{\"href\":_vm.result,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}}):_vm._e()]),_vm._v(\" \"),(_vm.error === null)?_c('qrcode-stream',{staticClass:\"qrcode-stream\",attrs:{\"camera\":_vm.camera},on:{\"init\":_vm.onInit,\"decode\":_vm.processResult}},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('div',{staticClass:\"angle\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"q-my-md\"},[_c('qrcode-capture',{on:{\"detect\":_vm.onInit}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08a6671e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08a6671e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08a6671e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08a6671e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}